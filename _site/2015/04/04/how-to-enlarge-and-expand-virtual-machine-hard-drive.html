<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>jan.zavrel.net - thoughts | stories | ideas</title>
    <meta name="description" content="jan.zavrel.net, development blog" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

</head>
<body class="home-template">

    <header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        


  <a class="back-button" href="/"><i class="fa fa-1x fa-arrow-left"></i> Home</a>




<a class="subscribe-button" href="/rss.xml"><i class="fa fa-1x fa-rss"></i> Subscribe</a>


    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">How to enlarge and expand Ubuntu virtual machine hard drive</h1>
            <section class="post-meta">
                
                
                
                	
                		<section class="post-author">
                			<img class="author-thumb" src="/assets/images/author-image.png" alt="author image" nopin="nopin" />
                			Jan Zav≈ôel
                	</section>
                	
                	
            	
                
                <time class="post-date" datetime="2015-04-04">04 Apr 2015</time>
                <!--
                
                    on linux
                
                //-->
                
                
                <!-- check if post has any tags and generate link for every tag  //-->
            	
              		
                  	<i class="fa fa-1x fa-tag"></i> <a href="/tag-linux.html">Linux</a>&nbsp;&nbsp;
              		
            	
            	
            	
            	
            	
            </section>
        </header>

<!--         <header class="post-header">
            <a id="blog-logo" href="">
                
                    <span class="blog-title">jan.zavrel.net</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2015-04-04">04 Apr 2015</time>
            
        </span> -->

        <!-- <h1 class="post-title">How to enlarge and expand Ubuntu virtual machine hard drive</h1> -->

        <section class="post-content">
            <p>When you install virtual machine, you have to decide what size of virtual drive to set, but sometimes you might later realize that it was not enough.</p>

<p>In that case you can quite easily enlarge your virtual hard drive and then expand your operating system to newly added free space. This article will show you how to do it with VirtualBox&#39;s .vdi file. But there&#39;s more. Usually you would need to boot from external drive, but not this time. The whole process can be done from terminal. So let&#39;s start.</p>

<p>Shutdown your virtual machine, open terminal on your physical machine, cd into your VirtualBox VMs folder, locate folder with your virtual machine, cd into it and run this command:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">VBoxManage modifyhd YOUR_HARD_DISK.vdi --resize SIZE_IN_MB  
</code></pre></div>
<p>YOUR<em>HARD</em>DRIVE will be the name of your .vdi file
SIZE<em>IN</em>MB will be new size, like 16000</p>

<p>That&#39;s it. Your virtual hard drive is enlarged. Now you need to expand your virtual machine into newly added free space.
Run your Ubuntu virtual machine, open it&#39;s terminal and run this command:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo fdisk /dev/sda
</code></pre></div>
<p>Type <strong>p</strong> to get the list of all partitions and make a note of the start cylinder of <strong>/dev/sda1</strong> <em>(usually 2048)</em></p>

<p>Type <strong>d</strong> to delete the swap partition, then delete the <strong>/dev/sda1</strong> partition</p>

<p>Type <strong>n</strong> to create a new primary partition. Make sure it starts at the number you wrote down. For the rest, let the default value</p>

<p>Type <strong>a</strong> to set the bootable flag on your new <strong>/dev/sda1</strong></p>

<p>Type <strong>w</strong> to write the new partition table to disk</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo reboot
sudo resize2fs /dev/sda1  
</code></pre></div>
<p>That&#39;s it! You have expanded your virtual machine. Check the size of your virtual hard drive. It reads 16 GB now.</p>

        </section>

        

        <footer class="post-footer">
            
            <!-- Share links section //-->
            <section class="share">
    <i class="fa fa-1x fa-share-square"></i>
    <h4>share this post</h4>
    <a href="http://twitter.com/share?text=How to enlarge and expand Ubuntu virtual machine hard drive&amp;url=/2015/04/04/how-to-enlarge-and-expand-virtual-machine-hard-drive.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><i class="fa fa-1x fa-twitter"></i></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=/2015/04/04/how-to-enlarge-and-expand-virtual-machine-hard-drive.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><i class="fa fa-1x fa-facebook-square"></i></a>
    <a href="https://plus.google.com/share?url=/2015/04/04/how-to-enlarge-and-expand-virtual-machine-hard-drive.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;"><i class="fa fa-1x fa-google-plus-square"></i></a>
</section>



            <!-- Disqus comments -->
            

        </footer>

    </article>

</main>



    <footer class="site-footer clearfix">


      <section class="follow">
    <!-- <h4>Follow me</h4> //-->
		
			<a onClick="ga('send', 'event', 'Social Follow', 'Follow me on Facebook');" class="facebook_follow" title="Follow me on Facebook" href="http://www.facebook.com/zavrelj" target="_blank"><i class="fa fa-1x fa-facebook-square"></i></a>
		
		
			<a onClick="ga('send', 'event', 'Social Follow', 'Follow me on Twitter');" class="twitter_follow" title="Follow me on Twitter" href="https://twitter.com/zavrelj" target="_blank"><i class="fa fa-1x fa-twitter"></i></a>
		
		
		
		
			<a onClick="ga('send', 'event', 'Social Follow', 'Follow me on GitHub');" class="github_follow" title="Follow me on GitHub" href="https://github.com/zavrelj" target="_blank"><i class="fa fa-1x fa-github"></i></a>
		
    
			<a onClick="ga('send', 'event', 'Social Follow', 'Follow me on Bitbucket');" class="bitbucket_follow" title="Follow me on Bitbucket" href="https://bitbucket.org/zavrelj" target="_blank"><i class="fa fa-1x fa-bitbucket"></i></a>
		
</section>



      <section class="copyright">
          &copy; 2015 <a href="">jan.zavrel.net</a>
      </section>
      <section class="poweredby">
          Made with <a href="http://jekyllrb.com">Jekyll</a> using <a href="http://themeforest.net/user/zavrelj">Ghost for Jekyll</a> theme
      </section>
    </footer>

    <script type="text/javascript" src="/assets/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', '']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
